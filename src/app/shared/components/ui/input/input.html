<div [class]="wrapperClass">
  <!-- Label -->
  @if (label) {
    <label [class]="labelClass">
      {{ label }}
      @if (required){<span class="text-red-500">*</span>}
    </label>
  }

  <!-- Input wrapper -->
  <div class="relative before:!hidden after:!hidden">
    <!-- Left Icon -->
    @if (icon) {
      <span class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
        <i [class]="icon"></i>
      </span>
    }

    <!-- Input -->
    <input
      [type]="currentInputType"
      [value]="value"
      [placeholder]="placeholder"
      [disabled]="disabled"
      (input)="onInput($event)"
      (blur)="onBlur()"
      [class]="inputClass"
      [class.pl-10]="icon"
      [class.pr-10]="shouldShowPasswordToggle"
      [class.border-red-500]="hasError"
      [class.border-green-500]="success && !hasError"
    />

    <!-- Password Toggle (Right Icon) -->
    @if (shouldShowPasswordToggle) {
      <button
        type="button"
        [class]="toggleButtonClass"
        (click)="togglePasswordVisibility()"
        (mousedown)="$event.preventDefault()"
        tabindex="-1"
        [disabled]="disabled"
      >
        <i [class]="eyeIcon" class="h-5 w-5"></i>
      </button>
    }
  </div>

  <!-- Error -->
  @if (hasError) {
    <p [class]="errorClass">
      {{ error }}
    </p>
  }
</div>
